<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tabla Valores 2 - Bryan Cusme</title>
    <script>
      function iniciar() {
        let datosCSV = document.createElement("div");
        let tablaDatos = document.createElement("table");
        let titulo = document.createElement("div");
        const creaCanvas = document.createElement("canvas");
        creaCanvas.style.background = "lightgray";
        creaCanvas.style.width = "500px";
        creaCanvas.style.height = "220px";
        datosCSV.innerHTML = "1)Texto CSV:<br>";

        tablaDatos.innerHTML = `<tr>
        <th>x</th>
        <th>cos(x)</th>
        <th>seno(x)</th>
        <th>seno(x)</th>
        <th>14 decimales</th>
        <th>x con decimales</th>
        </tr>`;
        titulo.innerHTML = "3) Canvas con la distribución";

        document.body.appendChild(datosCSV);
        document.body.appendChild(tablaDatos);
        document.body.appendChild(titulo);

        document.body.appendChild(creaCanvas);

        const listaValores = [];
        const listaSenos = [];
        const listaTang = [];
        for (let i = 0; i <= 12.0; i += 0.6) {
          listaValores.push(Math.cos(i).toFixed(2));
          listaSenos.push(Math.sin(i).toFixed(2));
          listaTang.push(Math.tan(i).toFixed(2));
          datosCSV.innerHTML += `${i.toFixed(2)}#${Math.cos(i).toFixed(
            2
          )}#${Math.sin(i).toFixed(2)}#${Math.sin(i)}#${i.toFixed(
            14
          )}#${i} <br>`;

          tablaDatos.innerHTML += `
      <tr><td>${i.toFixed(2)}</td>
      <td>${Math.cos(i).toFixed(2)}</td>
      <td>${Math.sin(i).toFixed(2)}</td>
      <td>${Math.sin(i)}</td>
      <td>${i.toFixed(14)}</td>
      <td>${i}</td></tr>`;
        }

        datosCSV.innerHTML += "2) Tabla de valores:";
        // Gráficas
        dibujaFunciones(creaCanvas, listaValores, "red");

        //Segunda gráfica
        dibujaFunciones(creaCanvas, listaSenos, "blue");

        dibujaFunciones(creaCanvas, listaSenos, "green");

        // Cabeceras de la tabla
        let cabeceras = document.querySelectorAll("th");
        cabeceras.forEach((th) => {
          th.style.background = "lightgreen";
          th.style.border = "1px solid #ddd";
          th.style.padding = "5px 10px";
        });
        let filas = document.querySelectorAll("tr ");
        filas.forEach((filas, indice) => {
          if (indice % 2 == 0) {
            filas.style.background = "lightgray";
            filas.style.border = "1px solid #ddd";
            filas.style.padding = "5px 10px";
          }
        });
      }
      function dibujaFunciones(canvas, datos, color) {
        let ctx = canvas.getContext("2d");
        ctx.beginPath(); // Start a new path
        ctx.strokeStyle = color;
        for (let i = 0; i < datos.length; i++) {
          ctx.lineTo(10 + 13 * i, 75 + 26 * datos[i]);
        }
        ctx.stroke();

        ctx.closePath();
      }
      window.onload = iniciar;
    </script>
  </head>
  <body></body>
</html>
